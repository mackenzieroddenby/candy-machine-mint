{"code":"(this[\"webpackJsonpcandy-machine-mint\"]=this[\"webpackJsonpcandy-machine-mint\"]||[]).push([[0],{169:function(e,n,t){\"use strict\";(function(e){t.d(n,\"a\",(function(){return l})),t.d(n,\"b\",(function(){return b})),t.d(n,\"c\",(function(){return m})),t.d(n,\"d\",(function(){return v}));var r=t(2),c=t.n(r),i=t(5),a=t(42),o=t(84),s=new a.d.PublicKey(\"cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ\"),u=new a.d.PublicKey(\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"),d=new a.d.PublicKey(\"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s\"),l=function(){var e=Object(i.a)(c.a.mark((function e(n,t,r){var a,o,s,u,d,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:\"recent\",o=l.length>4&&void 0!==l[4]&&l[4],s=!1,u={slot:0,confirmations:0,err:null},d=0,e.next=7,new Promise(function(){var e=Object(i.a)(c.a.mark((function e(l,f){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log(\"Rejecting for timeout...\"),f({timeout:!0}))}),t);try{d=r.onSignature(n,(function(e,n){s=!0,u={err:e.err,slot:n.slot,confirmations:0},e.err?(console.log(\"Rejected via websocket\",e.err),f(u)):(console.log(\"Resolved via websocket\",e),l(u))}),a)}catch(b){s=!0,console.error(\"WS error in setup\",n,b)}case 2:if(s||!o){e.next=8;break}return Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([n]);case 3:t=e.sent,u=t&&t.value[0],s||(u?u.err?(console.log(\"REST error for\",n,u),s=!0,f(u.err)):u.confirmations?(console.log(\"REST confirmation for\",n,u),s=!0,l(u)):console.log(\"REST no confirmations for\",n,u):console.log(\"REST null result for\",n,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log(\"REST connection error: txid\",n,e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case\"end\":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[d]&&r.removeSignatureListener(d),s=!0,console.log(\"Returning status\",u),e.abrupt(\"return\",u);case 12:case\"end\":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),f=function(n,t,r,c){var i=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a.d.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:a.d.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new a.d.TransactionInstruction({keys:i,programId:u,data:e.from([])})},b=function(){var e=Object(i.a)(c.a.mark((function e(n,t,r){var i,o,u,d,l,f,b,p,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new a.b(r,n,{preflightCommitment:\"recent\"}),e.next=3,a.a.fetchIdl(s,i);case 3:return o=e.sent,u=new a.a(o,s,i),d={id:t,connection:r,program:u},e.next=8,u.account.candyMachine.fetch(t);case 8:return l=e.sent,f=l.data.itemsAvailable.toNumber(),b=l.itemsRedeemed.toNumber(),p=f-b,O=l.data.goLiveDate.toNumber(),O=new Date(1e3*O),e.abrupt(\"return\",{candyMachine:d,itemsAvailable:f,itemsRedeemed:b,itemsRemaining:p,goLiveDate:O});case 15:case\"end\":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),p=function(){var n=Object(i.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.d.PublicKey.findProgramAddress([e.from(\"metadata\"),d.toBuffer(),t.toBuffer(),e.from(\"edition\")],d);case 2:return n.abrupt(\"return\",n.sent[0]);case 3:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),O=function(){var n=Object(i.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.d.PublicKey.findProgramAddress([e.from(\"metadata\"),d.toBuffer(),t.toBuffer()],d);case 2:return n.abrupt(\"return\",n.sent[0]);case 3:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(c.a.mark((function e(n,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.d.PublicKey.findProgramAddress([n.toBuffer(),o.b.toBuffer(),t.toBuffer()],u);case 2:return e.abrupt(\"return\",e.sent[0]);case 3:case\"end\":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(c.a.mark((function e(n,t,r,i){var s,u,l,b,m,v,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.d.Keypair.generate(),e.next=3,S(r,s.publicKey);case 3:return u=e.sent,l=n.connection,b=n.program,e.next=7,O(s.publicKey);case 7:return m=e.sent,e.next=10,p(s.publicKey);case 10:return v=e.sent,e.next=13,l.getMinimumBalanceForRentExemption(o.a.span);case 13:return j=e.sent,e.next=16,b.rpc.mintNft({accounts:{config:t,candyMachine:n.id,payer:r,wallet:i,mint:s.publicKey,metadata:m,masterEdition:v,mintAuthority:r,updateAuthority:r,tokenMetadataProgram:d,tokenProgram:o.b,systemProgram:a.d.SystemProgram.programId,rent:a.d.SYSVAR_RENT_PUBKEY,clock:a.d.SYSVAR_CLOCK_PUBKEY},signers:[s],instructions:[a.d.SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:s.publicKey,space:o.a.span,lamports:j,programId:o.b}),o.c.createInitMintInstruction(o.b,s.publicKey,0,r,r),f(u,r,r,s.publicKey),o.c.createMintToInstruction(o.b,s.publicKey,u,r,[],1)]});case 16:return e.abrupt(\"return\",e.sent);case 17:case\"end\":return e.stop()}}),e)})));return function(n,t,r,c){return e.apply(this,arguments)}}(),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return\"\".concat(e.slice(0,n),\"...\").concat(e.slice(-n))},j=function(e){return new Promise((function(n){return setTimeout(n,e)}))}}).call(this,t(10).Buffer)},497:function(e,n,t){},498:function(e,n,t){},501:function(e,n){},503:function(e,n){},510:function(e,n){},525:function(e,n){},526:function(e,n){},564:function(e,n){},565:function(e,n){},566:function(e,n){},573:function(e,n){},574:function(e,n){},575:function(e,n){},638:function(e,n){},640:function(e,n){},654:function(e,n){},658:function(e,n){},660:function(e,n){},670:function(e,n){},672:function(e,n){},703:function(e,n){},705:function(e,n){},712:function(e,n){},713:function(e,n){},738:function(e,n){},745:function(e,n,t){\"use strict\";t.r(n);var r,c,i,a,o=t(1),s=t.n(o),u=t(31),d=t.n(u),l=(t(497),t(498),t(15)),f=t(2),b=t.n(f),p=t(5),O=t(25),S=t(168),m=t(170),v=t(474),j=t(764),g=t(765),_=t(766),T=t(767),y=t(46),x=t(96),E=t(204),P=t(169),h=t(49),A=Object(m.a)(E.WalletDialogButton)(r||(r=Object(S.a)([\"\"]))),R=m.a.span(c||(c=Object(S.a)([\"\"]))),C=m.a.div(i||(i=Object(S.a)([\"\"]))),K=Object(m.a)(j.a)(a||(a=Object(S.a)([\"\"]))),D=function(e){e.days;var n=e.hours,t=e.minutes,r=e.seconds;e.completed;return Object(h.jsxs)(R,{children:[n,\" hours, \",t,\" minutes, \",r,\" seconds\"]})},w=function(e){var n,t=Object(o.useState)(),r=Object(O.a)(t,2),c=r[0],i=r[1],a=Object(o.useState)(!1),s=Object(O.a)(a,2),u=s[0],d=s[1],f=Object(o.useState)(!1),S=Object(O.a)(f,2),m=S[0],j=S[1],E=Object(o.useState)(!1),R=Object(O.a)(E,2),w=R[0],k=R[1],W=Object(o.useState)({open:!1,message:\"\",severity:void 0}),L=Object(O.a)(W,2),N=L[0],I=L[1],B=Object(o.useState)(new Date(e.startDate)),H=Object(O.a)(B,2),M=H[0],U=H[1],F=Object(x.useWallet)(),Y=Object(o.useState)(),V=Object(O.a)(Y,2),q=V[0],G=V[1],J=function(){var n=Object(p.a)(b.a.mark((function n(){var t,r,c,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,k(!0),!(F.connected&&(null===q||void 0===q?void 0:q.program)&&F.publicKey)){n.next=10;break}return n.next=5,Object(P.c)(q,e.config,F.publicKey,e.treasury);case 5:return t=n.sent,n.next=8,Object(P.a)(t,e.txTimeout,e.connection,\"singleGossip\",!1);case 8:(null===(r=n.sent)||void 0===r?void 0:r.err)?I({open:!0,message:\"Mint failed! Please try again!\",severity:\"error\"}):I({open:!0,message:\"Congratulations! Mint succeeded!\",severity:\"success\"});case 10:n.next=17;break;case 12:n.prev=12,n.t0=n.catch(0),c=n.t0.msg||\"Minting failed! Please try again!\",n.t0.msg?311===n.t0.code?(c=\"SOLD OUT!\",j(!0)):312===n.t0.code&&(c=\"Minting period hasn't started yet.\"):n.t0.message.indexOf(\"0x138\")||(n.t0.message.indexOf(\"0x137\")?c=\"SOLD OUT!\":n.t0.message.indexOf(\"0x135\")&&(c=\"Insufficient funds to mint. Please fund your wallet.\")),I({open:!0,message:c,severity:\"error\"});case 17:if(n.prev=17,!(null===F||void 0===F?void 0:F.publicKey)){n.next=23;break}return n.next=21,e.connection.getBalance(null===F||void 0===F?void 0:F.publicKey);case 21:a=n.sent,i(a/y.LAMPORTS_PER_SOL);case 23:return k(!1),n.finish(17);case 25:case\"end\":return n.stop()}}),n,null,[[0,12,17,25]])})));return function(){return n.apply(this,arguments)}}();return Object(o.useEffect)((function(){Object(p.a)(b.a.mark((function n(){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===F||void 0===F?void 0:F.publicKey)){n.next=5;break}return n.next=3,e.connection.getBalance(F.publicKey);case 3:t=n.sent,i(t/y.LAMPORTS_PER_SOL);case 5:case\"end\":return n.stop()}}),n)})))()}),[F,e.connection]),Object(o.useEffect)((function(){Object(p.a)(b.a.mark((function n(){var t,r,c,i,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(F&&F.publicKey&&F.signAllTransactions&&F.signTransaction){n.next=2;break}return n.abrupt(\"return\");case 2:return t={publicKey:F.publicKey,signAllTransactions:F.signAllTransactions,signTransaction:F.signTransaction},n.next=5,Object(P.b)(t,e.candyMachineId,e.connection);case 5:r=n.sent,c=r.candyMachine,i=r.goLiveDate,a=r.itemsRemaining,j(0===a),U(i),G(c);case 12:case\"end\":return n.stop()}}),n)})))()}),[F,e.candyMachineId,e.connection]),Object(h.jsxs)(\"main\",{children:[F.connected&&Object(h.jsxs)(\"p\",{children:[\"Address: \",Object(P.d)((null===(n=F.publicKey)||void 0===n?void 0:n.toBase58())||\"\")]}),F.connected&&Object(h.jsxs)(\"p\",{children:[\"Balance: \",(c||0).toLocaleString(),\" SOL\"]}),Object(h.jsx)(C,{children:F.connected?Object(h.jsx)(K,{disabled:m||w||!u,onClick:J,variant:\"contained\",children:m?\"SOLD OUT\":u?w?Object(h.jsx)(g.a,{}):\"MINT\":Object(h.jsx)(v.a,{date:M,onMount:function(e){return e.completed&&d(!0)},onComplete:function(){return d(!0)},renderer:D})}):Object(h.jsx)(A,{children:\"Connect Wallet\"})}),Object(h.jsx)(_.a,{open:N.open,autoHideDuration:6e3,onClose:function(){return I(Object(l.a)(Object(l.a)({},N),{},{open:!1}))},children:Object(h.jsx)(T.a,{onClose:function(){return I(Object(l.a)(Object(l.a)({},N),{},{open:!1}))},severity:N.severity,children:N.message})})]})},k=t(42),W=t(220),L=new k.d.PublicKey(Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TREASURY_ADDRESS),N=new k.d.PublicKey(Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CANDY_MACHINE_CONFIG),I=new k.d.PublicKey(Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CANDY_MACHINE_ID),B=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SOLANA_NETWORK,H=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SOLANA_RPC_HOST,M=new k.d.Connection(H),U=parseInt(Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CANDY_START_DATE,10),F=function(){var e=Object(o.useMemo)((function(){return Object(y.clusterApiUrl)(B)}),[]),n=Object(o.useMemo)((function(){return[Object(W.getPhantomWallet)(),Object(W.getSolflareWallet)(),Object(W.getSolletWallet)()]}),[]);return Object(h.jsx)(x.ConnectionProvider,{endpoint:e,children:Object(h.jsx)(x.WalletProvider,{wallets:n,autoConnect:!0,children:Object(h.jsx)(E.WalletDialogProvider,{children:Object(h.jsx)(w,{candyMachineId:I,config:N,connection:M,startDate:U,treasury:L,txTimeout:3e4})})})})},Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,770)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),i(e),a(e)}))};d.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById(\"root\")),Y()}},[[745,1,2]]]);","name":"static/js/main.df0172c0.chunk.js","map":{"version":3,"sources":["static/js/main.df0172c0.chunk.js"],"names":["this","push","169","module","__webpack_exports__","__webpack_require__","Buffer","d","awaitTransactionSignatureConfirmation","getCandyMachineState","mintOneToken","shortenAddress","C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__","_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__","CANDY_MACHINE_PROGRAM","PublicKey","SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","TOKEN_METADATA_PROGRAM_ID","_ref","Object","a","mark","_callee3","txid","timeout","connection","commitment","queryStatus","done","status","subId","_args3","arguments","wrap","_context3","prev","next","length","undefined","slot","confirmations","err","Promise","_ref2","_callee2","resolve","reject","_context2","setTimeout","console","log","onSignature","result","context","e","error","_callee","signatureStatuses","_context","getSignatureStatuses","sent","value","t0","stop","sleep","_x4","_x5","apply","_signatureSubscriptions","removeSignatureListener","abrupt","_x","_x2","_x3","createAssociatedTokenAccountInstruction","associatedTokenAddress","payer","walletAddress","splTokenMintAddress","keys","pubkey","isSigner","isWritable","SystemProgram","programId","SYSVAR_RENT_PUBKEY","TransactionInstruction","data","from","_ref4","_callee4","anchorWallet","candyMachineId","provider","idl","program","candyMachine","state","itemsAvailable","itemsRedeemed","itemsRemaining","goLiveDate","_context4","preflightCommitment","fetchIdl","id","account","fetch","toNumber","Date","_x6","_x7","_x8","getMasterEdition","_ref5","_callee5","mint","_context5","findProgramAddress","toBuffer","_x9","getMetadata","_ref6","_callee6","_context6","_x10","getTokenWallet","_ref7","_callee7","wallet","_context7","_x11","_x12","_ref8","_callee8","config","treasury","token","metadata","masterEdition","rent","_context8","Keypair","generate","publicKey","getMinimumBalanceForRentExemption","span","rpc","mintNft","accounts","mintAuthority","updateAuthority","tokenMetadataProgram","tokenProgram","systemProgram","clock","SYSVAR_CLOCK_PUBKEY","signers","instructions","createAccount","fromPubkey","newAccountPubkey","space","lamports","createInitMintInstruction","createMintToInstruction","_x13","_x14","_x15","_x16","address","chars","concat","slice","ms","call","497","exports","498","501","503","510","525","526","564","565","566","573","574","575","638","640","654","658","660","670","672","703","705","712","713","738","745","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","react","react_default","react_dom","react_dom_default","objectSpread2","regenerator","regenerator_default","asyncToGenerator","slicedToArray","taggedTemplateLiteral","styled_components_browser_esm","index_es","Button","CircularProgress","Snackbar","Alert","index_browser_esm","lib","wallet_adapter_material_ui_lib","candy_machine","jsx_runtime","ConnectButton","CounterText","MintContainer","div","MintButton","Home_renderCounter","days","hours","minutes","seconds","completed","children","src_Home","props","_wallet$publicKey","_useState","_useState2","balance","setBalance","_useState3","_useState4","isActive","setIsActive","_useState5","_useState6","isSoldOut","setIsSoldOut","_useState7","_useState8","isMinting","setIsMinting","_useState9","open","message","severity","_useState10","alertState","setAlertState","_useState11","startDate","_useState12","setStartDate","_useState13","_useState14","setCandyMachine","onMint","mintTxId","_balance","connected","txTimeout","msg","code","indexOf","getBalance","finish","_balance2","_yield$getCandyMachin","signAllTransactions","signTransaction","toBase58","toLocaleString","disabled","onClick","variant","date","onMount","onComplete","renderer","autoHideDuration","onClose","esm","wallet_adapter_wallets_lib","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","REACT_APP_TREASURY_ADDRESS","REACT_APP_CANDY_MACHINE_CONFIG","REACT_APP_CANDY_MACHINE_ID","network","REACT_APP_SOLANA_NETWORK","rpcHost","REACT_APP_SOLANA_RPC_HOST","Connection","startDateSeed","parseInt","REACT_APP_CANDY_START_DATE","src_App_0","endpoint","wallets","autoConnect","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpcandy-machine-mint\"] = this[\"webpackJsonpcandy-machine-mint\"] || []).push([[0],{\n\n/***/ 169:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* unused harmony export CANDY_MACHINE_PROGRAM */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return awaitTransactionSignatureConfirmation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getCandyMachineState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return mintOneToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return shortenAddress; });\n/* harmony import */ var C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/* harmony import */ var _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42);\n/* harmony import */ var _solana_spl_token__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(84);\nvar CANDY_MACHINE_PROGRAM=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].PublicKey(\"cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ\");var SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].PublicKey(\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\");var TOKEN_METADATA_PROGRAM_ID=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].PublicKey(\"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s\");var awaitTransactionSignatureConfirmation=/*#__PURE__*/function(){var _ref=Object(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(txid,timeout,connection){var commitment,queryStatus,done,status,subId,_args3=arguments;return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:commitment=_args3.length>3&&_args3[3]!==undefined?_args3[3]:\"recent\";queryStatus=_args3.length>4&&_args3[4]!==undefined?_args3[4]:false;done=false;status={slot:0,confirmations:0,err:null};subId=0;_context3.next=7;return new Promise(/*#__PURE__*/function(){var _ref2=Object(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(resolve,reject){return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setTimeout(function(){if(done){return;}done=true;console.log(\"Rejecting for timeout...\");reject({timeout:true});},timeout);try{subId=connection.onSignature(txid,function(result,context){done=true;status={err:result.err,slot:context.slot,confirmations:0};if(result.err){console.log(\"Rejected via websocket\",result.err);reject(status);}else{console.log(\"Resolved via websocket\",result);resolve(status);}},commitment);}catch(e){done=true;console.error(\"WS error in setup\",txid,e);}case 2:if(!(!done&&queryStatus)){_context2.next=8;break;}// eslint-disable-next-line no-loop-func\nObject(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(){var signatureStatuses;return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return connection.getSignatureStatuses([txid]);case 3:signatureStatuses=_context.sent;status=signatureStatuses&&signatureStatuses.value[0];if(!done){if(!status){console.log(\"REST null result for\",txid,status);}else if(status.err){console.log(\"REST error for\",txid,status);done=true;reject(status.err);}else if(!status.confirmations){console.log(\"REST no confirmations for\",txid,status);}else{console.log(\"REST confirmation for\",txid,status);done=true;resolve(status);}}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(!done){console.log(\"REST connection error: txid\",txid,_context.t0);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}))();_context2.next=6;return sleep(2000);case 6:_context2.next=2;break;case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4,_x5){return _ref2.apply(this,arguments);};}());case 7:status=_context3.sent;//@ts-ignore\nif(connection._signatureSubscriptions[subId]){connection.removeSignatureListener(subId);}done=true;console.log(\"Returning status\",status);return _context3.abrupt(\"return\",status);case 12:case\"end\":return _context3.stop();}}},_callee3);}));return function awaitTransactionSignatureConfirmation(_x,_x2,_x3){return _ref.apply(this,arguments);};}();/* export */var createAssociatedTokenAccountInstruction=function createAssociatedTokenAccountInstruction(associatedTokenAddress,payer,walletAddress,splTokenMintAddress){var keys=[{pubkey:payer,isSigner:true,isWritable:true},{pubkey:associatedTokenAddress,isSigner:false,isWritable:true},{pubkey:walletAddress,isSigner:false,isWritable:false},{pubkey:splTokenMintAddress,isSigner:false,isWritable:false},{pubkey:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].SystemProgram.programId,isSigner:false,isWritable:false},{pubkey:_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"],isSigner:false,isWritable:false},{pubkey:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].SYSVAR_RENT_PUBKEY,isSigner:false,isWritable:false}];return new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].TransactionInstruction({keys:keys,programId:SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,data:Buffer.from([])});};var getCandyMachineState=/*#__PURE__*/function(){var _ref4=Object(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(anchorWallet,candyMachineId,connection){var provider,idl,program,candyMachine,state,itemsAvailable,itemsRedeemed,itemsRemaining,goLiveDate;return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:provider=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* Provider */ \"b\"](connection,anchorWallet,{preflightCommitment:\"recent\"});_context4.next=3;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* Program */ \"a\"].fetchIdl(CANDY_MACHINE_PROGRAM,provider);case 3:idl=_context4.sent;program=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* Program */ \"a\"](idl,CANDY_MACHINE_PROGRAM,provider);candyMachine={id:candyMachineId,connection:connection,program:program};_context4.next=8;return program.account.candyMachine.fetch(candyMachineId);case 8:state=_context4.sent;itemsAvailable=state.data.itemsAvailable.toNumber();itemsRedeemed=state.itemsRedeemed.toNumber();itemsRemaining=itemsAvailable-itemsRedeemed;goLiveDate=state.data.goLiveDate.toNumber();goLiveDate=new Date(goLiveDate*1000);return _context4.abrupt(\"return\",{candyMachine:candyMachine,itemsAvailable:itemsAvailable,itemsRedeemed:itemsRedeemed,itemsRemaining:itemsRemaining,goLiveDate:goLiveDate});case 15:case\"end\":return _context4.stop();}}},_callee4);}));return function getCandyMachineState(_x6,_x7,_x8){return _ref4.apply(this,arguments);};}();var getMasterEdition=/*#__PURE__*/function(){var _ref5=Object(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(mint){return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].PublicKey.findProgramAddress([Buffer.from(\"metadata\"),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer(),Buffer.from(\"edition\")],TOKEN_METADATA_PROGRAM_ID);case 2:return _context5.abrupt(\"return\",_context5.sent[0]);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function getMasterEdition(_x9){return _ref5.apply(this,arguments);};}();var getMetadata=/*#__PURE__*/function(){var _ref6=Object(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(mint){return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].PublicKey.findProgramAddress([Buffer.from(\"metadata\"),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer()],TOKEN_METADATA_PROGRAM_ID);case 2:return _context6.abrupt(\"return\",_context6.sent[0]);case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function getMetadata(_x10){return _ref6.apply(this,arguments);};}();var getTokenWallet=/*#__PURE__*/function(){var _ref7=Object(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(wallet,mint){return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].PublicKey.findProgramAddress([wallet.toBuffer(),_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"].toBuffer(),mint.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID);case 2:return _context7.abrupt(\"return\",_context7.sent[0]);case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function getTokenWallet(_x11,_x12){return _ref7.apply(this,arguments);};}();var mintOneToken=/*#__PURE__*/function(){var _ref8=Object(C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee8(candyMachine,config,payer,treasury){var mint,token,connection,program,metadata,masterEdition,rent;return C_Users_kyz79_metaplex_candy_machine_mint_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:mint=_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].Keypair.generate();_context8.next=3;return getTokenWallet(payer,mint.publicKey);case 3:token=_context8.sent;connection=candyMachine.connection,program=candyMachine.program;_context8.next=7;return getMetadata(mint.publicKey);case 7:metadata=_context8.sent;_context8.next=10;return getMasterEdition(mint.publicKey);case 10:masterEdition=_context8.sent;_context8.next=13;return connection.getMinimumBalanceForRentExemption(_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* MintLayout */ \"a\"].span);case 13:rent=_context8.sent;_context8.next=16;return program.rpc.mintNft({accounts:{config:config,candyMachine:candyMachine.id,payer:payer,wallet:treasury,mint:mint.publicKey,metadata:metadata,masterEdition:masterEdition,mintAuthority:payer,updateAuthority:payer,tokenMetadataProgram:TOKEN_METADATA_PROGRAM_ID,tokenProgram:_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"],systemProgram:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].SystemProgram.programId,rent:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].SYSVAR_RENT_PUBKEY,clock:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].SYSVAR_CLOCK_PUBKEY},signers:[mint],instructions:[_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"d\"].SystemProgram.createAccount({fromPubkey:payer,newAccountPubkey:mint.publicKey,space:_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* MintLayout */ \"a\"].span,lamports:rent,programId:_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"]}),_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* Token */ \"c\"].createInitMintInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"],mint.publicKey,0,payer,payer),createAssociatedTokenAccountInstruction(token,payer,payer,mint.publicKey),_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* Token */ \"c\"].createMintToInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"],mint.publicKey,token,payer,[],1)]});case 16:return _context8.abrupt(\"return\",_context8.sent);case 17:case\"end\":return _context8.stop();}}},_callee8);}));return function mintOneToken(_x13,_x14,_x15,_x16){return _ref8.apply(this,arguments);};}();var shortenAddress=function shortenAddress(address){var chars=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;return\"\".concat(address.slice(0,chars),\"...\").concat(address.slice(-chars));};var sleep=function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(10).Buffer))\n\n/***/ }),\n\n/***/ 497:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 498:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 501:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 503:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 510:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 525:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 526:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 564:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 565:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 566:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 573:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 574:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 575:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 638:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 640:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 654:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 658:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 660:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 670:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 672:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 703:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 705:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 712:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 713:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 738:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 745:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(31);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(497);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(498);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(2);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(168);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(170);\n\n// EXTERNAL MODULE: ./node_modules/react-countdown/dist/index.es.js\nvar index_es = __webpack_require__(474);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(764);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js\nvar CircularProgress = __webpack_require__(765);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js\nvar Snackbar = __webpack_require__(766);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Alert/Alert.js + 5 modules\nvar Alert = __webpack_require__(767);\n\n// EXTERNAL MODULE: ./node_modules/@solana/web3.js/lib/index.browser.esm.js\nvar index_browser_esm = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-react/lib/index.js\nvar lib = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-material-ui/lib/index.js\nvar wallet_adapter_material_ui_lib = __webpack_require__(204);\n\n// EXTERNAL MODULE: ./src/candy-machine.ts\nvar candy_machine = __webpack_require__(169);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(49);\n\n// CONCATENATED MODULE: ./src/Home.tsx\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4;var ConnectButton=Object(styled_components_browser_esm[\"a\" /* default */])(wallet_adapter_material_ui_lib[\"WalletDialogButton\"])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));var CounterText=styled_components_browser_esm[\"a\" /* default */].span(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));// add your styles here\nvar MintContainer=styled_components_browser_esm[\"a\" /* default */].div(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));// add your styles here\nvar MintButton=Object(styled_components_browser_esm[\"a\" /* default */])(Button[\"a\" /* default */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));// add your styles here\nvar Home_Home=function Home(props){var _wallet$publicKey;var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),balance=_useState2[0],setBalance=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isActive=_useState4[0],setIsActive=_useState4[1];// true when countdown completes\nvar _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isSoldOut=_useState6[0],setIsSoldOut=_useState6[1];// true when items remaining is zero\nvar _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isMinting=_useState8[0],setIsMinting=_useState8[1];// true when user got to press MINT\nvar _useState9=Object(react[\"useState\"])({open:false,message:\"\",severity:undefined}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),alertState=_useState10[0],setAlertState=_useState10[1];var _useState11=Object(react[\"useState\"])(new Date(props.startDate)),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),startDate=_useState12[0],setStartDate=_useState12[1];var wallet=Object(lib[\"useWallet\"])();var _useState13=Object(react[\"useState\"])(),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),candyMachine=_useState14[0],setCandyMachine=_useState14[1];var onMint=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var mintTxId,status,message,_balance;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setIsMinting(true);if(!(wallet.connected&&(candyMachine===null||candyMachine===void 0?void 0:candyMachine.program)&&wallet.publicKey)){_context.next=10;break;}_context.next=5;return Object(candy_machine[\"c\" /* mintOneToken */])(candyMachine,props.config,wallet.publicKey,props.treasury);case 5:mintTxId=_context.sent;_context.next=8;return Object(candy_machine[\"a\" /* awaitTransactionSignatureConfirmation */])(mintTxId,props.txTimeout,props.connection,\"singleGossip\",false);case 8:status=_context.sent;if(!(status===null||status===void 0?void 0:status.err)){setAlertState({open:true,message:\"Congratulations! Mint succeeded!\",severity:\"success\"});}else{setAlertState({open:true,message:\"Mint failed! Please try again!\",severity:\"error\"});}case 10:_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);// TODO: blech:\nmessage=_context.t0.msg||\"Minting failed! Please try again!\";if(!_context.t0.msg){if(_context.t0.message.indexOf(\"0x138\")){}else if(_context.t0.message.indexOf(\"0x137\")){message=\"SOLD OUT!\";}else if(_context.t0.message.indexOf(\"0x135\")){message=\"Insufficient funds to mint. Please fund your wallet.\";}}else{if(_context.t0.code===311){message=\"SOLD OUT!\";setIsSoldOut(true);}else if(_context.t0.code===312){message=\"Minting period hasn't started yet.\";}}setAlertState({open:true,message:message,severity:\"error\"});case 17:_context.prev=17;if(!(wallet===null||wallet===void 0?void 0:wallet.publicKey)){_context.next=23;break;}_context.next=21;return props.connection.getBalance(wallet===null||wallet===void 0?void 0:wallet.publicKey);case 21:_balance=_context.sent;setBalance(_balance/index_browser_esm[\"LAMPORTS_PER_SOL\"]);case 23:setIsMinting(false);return _context.finish(17);case 25:case\"end\":return _context.stop();}}},_callee,null,[[0,12,17,25]]);}));return function onMint(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var _balance2;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(wallet===null||wallet===void 0?void 0:wallet.publicKey)){_context2.next=5;break;}_context2.next=3;return props.connection.getBalance(wallet.publicKey);case 3:_balance2=_context2.sent;setBalance(_balance2/index_browser_esm[\"LAMPORTS_PER_SOL\"]);case 5:case\"end\":return _context2.stop();}}},_callee2);}))();},[wallet,props.connection]);Object(react[\"useEffect\"])(function(){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var anchorWallet,_yield$getCandyMachin,candyMachine,goLiveDate,itemsRemaining;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(!wallet||!wallet.publicKey||!wallet.signAllTransactions||!wallet.signTransaction)){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:anchorWallet={publicKey:wallet.publicKey,signAllTransactions:wallet.signAllTransactions,signTransaction:wallet.signTransaction};_context3.next=5;return Object(candy_machine[\"b\" /* getCandyMachineState */])(anchorWallet,props.candyMachineId,props.connection);case 5:_yield$getCandyMachin=_context3.sent;candyMachine=_yield$getCandyMachin.candyMachine;goLiveDate=_yield$getCandyMachin.goLiveDate;itemsRemaining=_yield$getCandyMachin.itemsRemaining;setIsSoldOut(itemsRemaining===0);setStartDate(goLiveDate);setCandyMachine(candyMachine);case 12:case\"end\":return _context3.stop();}}},_callee3);}))();},[wallet,props.candyMachineId,props.connection]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[wallet.connected&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Address: \",Object(candy_machine[\"d\" /* shortenAddress */])(((_wallet$publicKey=wallet.publicKey)===null||_wallet$publicKey===void 0?void 0:_wallet$publicKey.toBase58())||\"\")]}),wallet.connected&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Balance: \",(balance||0).toLocaleString(),\" SOL\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MintContainer,{children:!wallet.connected?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConnectButton,{children:\"Connect Wallet\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MintButton,{disabled:isSoldOut||isMinting||!isActive,onClick:onMint,variant:\"contained\",children:isSoldOut?\"SOLD OUT\":isActive?isMinting?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CircularProgress[\"a\" /* default */],{}):\"MINT\":/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* default */],{date:startDate,onMount:function onMount(_ref4){var completed=_ref4.completed;return completed&&setIsActive(true);},onComplete:function onComplete(){return setIsActive(true);},renderer:Home_renderCounter})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Snackbar[\"a\" /* default */],{open:alertState.open,autoHideDuration:6000,onClose:function onClose(){return setAlertState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},alertState),{},{open:false}));},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{onClose:function onClose(){return setAlertState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},alertState),{},{open:false}));},severity:alertState.severity,children:alertState.message})})]});};var Home_renderCounter=function renderCounter(_ref5){var days=_ref5.days,hours=_ref5.hours,minutes=_ref5.minutes,seconds=_ref5.seconds,completed=_ref5.completed;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CounterText,{children:[hours,\" hours, \",minutes,\" minutes, \",seconds,\" seconds\"]});};/* harmony default export */ var src_Home = (Home_Home);\n// EXTERNAL MODULE: ./node_modules/@project-serum/anchor/dist/esm/index.js + 17 modules\nvar esm = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-wallets/lib/index.js\nvar wallet_adapter_wallets_lib = __webpack_require__(220);\n\n// CONCATENATED MODULE: ./src/App.tsx\nvar treasury=new esm[\"d\" /* web3 */].PublicKey(Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_TREASURY_ADDRESS);var config=new esm[\"d\" /* web3 */].PublicKey(Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_CANDY_MACHINE_CONFIG);var candyMachineId=new esm[\"d\" /* web3 */].PublicKey(Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_CANDY_MACHINE_ID);var network=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_SOLANA_NETWORK;var rpcHost=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_SOLANA_RPC_HOST;var connection=new esm[\"d\" /* web3 */].Connection(rpcHost);var startDateSeed=parseInt(Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_CANDY_START_DATE,10);var txTimeout=30000;// milliseconds (confirm this works for your project)\nvar App_App=function App(){var endpoint=Object(react[\"useMemo\"])(function(){return Object(index_browser_esm[\"clusterApiUrl\"])(network);},[]);var wallets=Object(react[\"useMemo\"])(function(){return[Object(wallet_adapter_wallets_lib[\"getPhantomWallet\"])(),Object(wallet_adapter_wallets_lib[\"getSolflareWallet\"])(),Object(wallet_adapter_wallets_lib[\"getSolletWallet\"])()];},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"ConnectionProvider\"],{endpoint:endpoint,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"WalletProvider\"],{wallets:wallets,autoConnect:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(wallet_adapter_material_ui_lib[\"WalletDialogProvider\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Home,{candyMachineId:candyMachineId,config:config,connection:connection,startDate:startDateSeed,treasury:treasury,txTimeout:txTimeout})})})});};/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 770)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[745,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:/Users/kyz79/metaplex/candy-machine-mint/src/candy-machine.ts","C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\src\\index.css","C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\src\\App.css","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@solana\\web3.js\\node_modules\\tweetnacl crypto","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@solana\\web3.js\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\borsh\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\brorand crypto","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@project-serum\\anchor\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@project-serum\\anchor\\node_modules\\tweetnacl crypto","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@project-serum\\anchor\\node_modules\\@solana\\web3.js\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@solana\\spl-token\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@solana\\spl-token\\node_modules\\tweetnacl crypto","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@solana\\spl-token\\node_modules\\@solana\\web3.js\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\keccak\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\keccak\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\pump fs","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\hash-base\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\hash-base\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\browserify-sign\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\browserify-sign\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\browserify-rsa\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\browserify-sign\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\kyz79\\metaplex\\candy-machine-mint\\node_modules\\@toruslabs\\tweetnacl-js crypto","C:/Users/kyz79/metaplex/candy-machine-mint/src/Home.tsx","C:/Users/kyz79/metaplex/candy-machine-mint/src/App.tsx","C:/Users/kyz79/metaplex/candy-machine-mint/src/reportWebVitals.ts","C:/Users/kyz79/metaplex/candy-machine-mint/src/index.tsx"],"names":["CANDY_MACHINE_PROGRAM","anchor","PublicKey","SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","TOKEN_METADATA_PROGRAM_ID","awaitTransactionSignatureConfirmation","txid","timeout","connection","commitment","queryStatus","done","status","slot","confirmations","err","subId","Promise","resolve","reject","setTimeout","console","log","onSignature","result","context","e","error","getSignatureStatuses","signatureStatuses","value","sleep","_signatureSubscriptions","removeSignatureListener","createAssociatedTokenAccountInstruction","associatedTokenAddress","payer","walletAddress","splTokenMintAddress","keys","pubkey","isSigner","isWritable","SystemProgram","programId","TOKEN_PROGRAM_ID","SYSVAR_RENT_PUBKEY","TransactionInstruction","data","Buffer","from","getCandyMachineState","anchorWallet","candyMachineId","provider","preflightCommitment","fetchIdl","idl","program","candyMachine","id","account","fetch","state","itemsAvailable","toNumber","itemsRedeemed","itemsRemaining","goLiveDate","Date","getMasterEdition","mint","findProgramAddress","toBuffer","getMetadata","getTokenWallet","wallet","mintOneToken","config","treasury","Keypair","generate","publicKey","token","metadata","masterEdition","getMinimumBalanceForRentExemption","MintLayout","span","rent","rpc","mintNft","accounts","mintAuthority","updateAuthority","tokenMetadataProgram","tokenProgram","systemProgram","clock","SYSVAR_CLOCK_PUBKEY","signers","instructions","createAccount","fromPubkey","newAccountPubkey","space","lamports","Token","createInitMintInstruction","createMintToInstruction","shortenAddress","address","chars","slice","ms","ConnectButton","styled","WalletDialogButton","CounterText","MintContainer","div","MintButton","Button","Home","props","useState","balance","setBalance","isActive","setIsActive","isSoldOut","setIsSoldOut","isMinting","setIsMinting","open","message","severity","undefined","alertState","setAlertState","startDate","setStartDate","useWallet","setCandyMachine","onMint","connected","mintTxId","txTimeout","msg","indexOf","code","getBalance","LAMPORTS_PER_SOL","useEffect","signAllTransactions","signTransaction","toBase58","toLocaleString","completed","renderCounter","days","hours","minutes","seconds","process","REACT_APP_TREASURY_ADDRESS","REACT_APP_CANDY_MACHINE_CONFIG","REACT_APP_CANDY_MACHINE_ID","network","REACT_APP_SOLANA_NETWORK","rpcHost","REACT_APP_SOLANA_RPC_HOST","Connection","startDateSeed","parseInt","REACT_APP_CANDY_START_DATE","App","endpoint","useMemo","clusterApiUrl","wallets","getPhantomWallet","getSolflareWallet","getSolletWallet","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import * as anchor from \"@project-serum/anchor\";\r\n\r\nimport {\r\n  MintLayout,\r\n  TOKEN_PROGRAM_ID,\r\n  Token,\r\n} from \"@solana/spl-token\";\r\n\r\nexport const CANDY_MACHINE_PROGRAM = new anchor.web3.PublicKey(\r\n  \"cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ\"\r\n);\r\n\r\nconst SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID = new anchor.web3.PublicKey(\r\n  \"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"\r\n);\r\n\r\nconst TOKEN_METADATA_PROGRAM_ID = new anchor.web3.PublicKey(\r\n  \"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s\"\r\n);\r\n\r\nexport interface CandyMachine {\r\n  id: anchor.web3.PublicKey,\r\n  connection: anchor.web3.Connection;\r\n  program: anchor.Program;\r\n}\r\n\r\ninterface CandyMachineState {\r\n  candyMachine: CandyMachine;\r\n  itemsAvailable: number;\r\n  itemsRedeemed: number;\r\n  itemsRemaining: number;\r\n  goLiveDate: Date,\r\n}\r\n\r\nexport const awaitTransactionSignatureConfirmation = async (\r\n  txid: anchor.web3.TransactionSignature,\r\n  timeout: number,\r\n  connection: anchor.web3.Connection,\r\n  commitment: anchor.web3.Commitment = \"recent\",\r\n  queryStatus = false\r\n): Promise<anchor.web3.SignatureStatus | null | void> => {\r\n  let done = false;\r\n  let status: anchor.web3.SignatureStatus | null | void = {\r\n    slot: 0,\r\n    confirmations: 0,\r\n    err: null,\r\n  };\r\n  let subId = 0;\r\n  status = await new Promise(async (resolve, reject) => {\r\n    setTimeout(() => {\r\n      if (done) {\r\n        return;\r\n      }\r\n      done = true;\r\n      console.log(\"Rejecting for timeout...\");\r\n      reject({ timeout: true });\r\n    }, timeout);\r\n    try {\r\n      subId = connection.onSignature(\r\n        txid,\r\n        (result: any, context: any) => {\r\n          done = true;\r\n          status = {\r\n            err: result.err,\r\n            slot: context.slot,\r\n            confirmations: 0,\r\n          };\r\n          if (result.err) {\r\n            console.log(\"Rejected via websocket\", result.err);\r\n            reject(status);\r\n          } else {\r\n            console.log(\"Resolved via websocket\", result);\r\n            resolve(status);\r\n          }\r\n        },\r\n        commitment\r\n      );\r\n    } catch (e) {\r\n      done = true;\r\n      console.error(\"WS error in setup\", txid, e);\r\n    }\r\n    while (!done && queryStatus) {\r\n      // eslint-disable-next-line no-loop-func\r\n      (async () => {\r\n        try {\r\n          const signatureStatuses = await connection.getSignatureStatuses([\r\n            txid,\r\n          ]);\r\n          status = signatureStatuses && signatureStatuses.value[0];\r\n          if (!done) {\r\n            if (!status) {\r\n              console.log(\"REST null result for\", txid, status);\r\n            } else if (status.err) {\r\n              console.log(\"REST error for\", txid, status);\r\n              done = true;\r\n              reject(status.err);\r\n            } else if (!status.confirmations) {\r\n              console.log(\"REST no confirmations for\", txid, status);\r\n            } else {\r\n              console.log(\"REST confirmation for\", txid, status);\r\n              done = true;\r\n              resolve(status);\r\n            }\r\n          }\r\n        } catch (e) {\r\n          if (!done) {\r\n            console.log(\"REST connection error: txid\", txid, e);\r\n          }\r\n        }\r\n      })();\r\n      await sleep(2000);\r\n    }\r\n  });\r\n\r\n  //@ts-ignore\r\n  if (connection._signatureSubscriptions[subId]) {\r\n    connection.removeSignatureListener(subId);\r\n  }\r\n  done = true;\r\n  console.log(\"Returning status\", status);\r\n  return status;\r\n}\r\n\r\n/* export */ const createAssociatedTokenAccountInstruction = (\r\n  associatedTokenAddress: anchor.web3.PublicKey,\r\n  payer: anchor.web3.PublicKey,\r\n  walletAddress: anchor.web3.PublicKey,\r\n  splTokenMintAddress: anchor.web3.PublicKey\r\n) => {\r\n  const keys = [\r\n    { pubkey: payer, isSigner: true, isWritable: true },\r\n    { pubkey: associatedTokenAddress, isSigner: false, isWritable: true },\r\n    { pubkey: walletAddress, isSigner: false, isWritable: false },\r\n    { pubkey: splTokenMintAddress, isSigner: false, isWritable: false },\r\n    {\r\n      pubkey: anchor.web3.SystemProgram.programId,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n    { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },\r\n    {\r\n      pubkey: anchor.web3.SYSVAR_RENT_PUBKEY,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n  ];\r\n  return new anchor.web3.TransactionInstruction({\r\n    keys,\r\n    programId: SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\r\n    data: Buffer.from([]),\r\n  });\r\n}\r\n\r\nexport const getCandyMachineState = async (\r\n  anchorWallet: anchor.Wallet,\r\n  candyMachineId: anchor.web3.PublicKey,\r\n  connection: anchor.web3.Connection,\r\n): Promise<CandyMachineState> => {\r\n  const provider = new anchor.Provider(connection, anchorWallet, {\r\n    preflightCommitment: \"recent\",\r\n  });\r\n\r\n  const idl = await anchor.Program.fetchIdl(\r\n    CANDY_MACHINE_PROGRAM,\r\n    provider\r\n  );\r\n\r\n  const program = new anchor.Program(idl, CANDY_MACHINE_PROGRAM, provider);\r\n  const candyMachine = {\r\n    id: candyMachineId,\r\n    connection,\r\n    program,\r\n  }\r\n\r\n  const state: any = await program.account.candyMachine.fetch(candyMachineId);\r\n  const itemsAvailable = state.data.itemsAvailable.toNumber();\r\n  const itemsRedeemed = state.itemsRedeemed.toNumber();\r\n  const itemsRemaining = itemsAvailable - itemsRedeemed;\r\n\r\n  let goLiveDate = state.data.goLiveDate.toNumber();\r\n  goLiveDate = new Date(goLiveDate * 1000);\r\n\r\n  return {\r\n    candyMachine,\r\n    itemsAvailable,\r\n    itemsRedeemed,\r\n    itemsRemaining,\r\n    goLiveDate,\r\n  };\r\n}\r\n\r\nconst getMasterEdition = async (\r\n  mint: anchor.web3.PublicKey\r\n): Promise<anchor.web3.PublicKey> => {\r\n  return (\r\n    await anchor.web3.PublicKey.findProgramAddress(\r\n      [\r\n        Buffer.from(\"metadata\"),\r\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\r\n        mint.toBuffer(),\r\n        Buffer.from(\"edition\"),\r\n      ],\r\n      TOKEN_METADATA_PROGRAM_ID\r\n    )\r\n  )[0];\r\n};\r\n\r\nconst getMetadata = async (\r\n  mint: anchor.web3.PublicKey\r\n): Promise<anchor.web3.PublicKey> => {\r\n  return (\r\n    await anchor.web3.PublicKey.findProgramAddress(\r\n      [\r\n        Buffer.from(\"metadata\"),\r\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\r\n        mint.toBuffer(),\r\n      ],\r\n      TOKEN_METADATA_PROGRAM_ID\r\n    )\r\n  )[0];\r\n};\r\n\r\nconst getTokenWallet = async (\r\n  wallet: anchor.web3.PublicKey,\r\n  mint: anchor.web3.PublicKey\r\n) => {\r\n  return (\r\n    await anchor.web3.PublicKey.findProgramAddress(\r\n      [wallet.toBuffer(), TOKEN_PROGRAM_ID.toBuffer(), mint.toBuffer()],\r\n      SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID\r\n    )\r\n  )[0];\r\n};\r\n\r\nexport const mintOneToken = async (\r\n  candyMachine: CandyMachine,\r\n  config: anchor.web3.PublicKey, // feels like this should be part of candyMachine?\r\n  payer: anchor.web3.PublicKey,\r\n  treasury: anchor.web3.PublicKey,\r\n): Promise<string> => {\r\n  const mint = anchor.web3.Keypair.generate();\r\n  const token = await getTokenWallet(payer, mint.publicKey);\r\n  const { connection, program } = candyMachine;\r\n  const metadata = await getMetadata(mint.publicKey);\r\n  const masterEdition = await getMasterEdition(mint.publicKey);\r\n\r\n  const rent = await connection.getMinimumBalanceForRentExemption(\r\n    MintLayout.span\r\n  );\r\n\r\n  return await program.rpc.mintNft({\r\n    accounts: {\r\n      config,\r\n      candyMachine: candyMachine.id,\r\n      payer: payer,\r\n      wallet: treasury,\r\n      mint: mint.publicKey,\r\n      metadata,\r\n      masterEdition,\r\n      mintAuthority: payer,\r\n      updateAuthority: payer,\r\n      tokenMetadataProgram: TOKEN_METADATA_PROGRAM_ID,\r\n      tokenProgram: TOKEN_PROGRAM_ID,\r\n      systemProgram: anchor.web3.SystemProgram.programId,\r\n      rent: anchor.web3.SYSVAR_RENT_PUBKEY,\r\n      clock: anchor.web3.SYSVAR_CLOCK_PUBKEY,\r\n    },\r\n    signers: [mint],\r\n    instructions: [\r\n      anchor.web3.SystemProgram.createAccount({\r\n        fromPubkey: payer,\r\n        newAccountPubkey: mint.publicKey,\r\n        space: MintLayout.span,\r\n        lamports: rent,\r\n        programId: TOKEN_PROGRAM_ID,\r\n      }),\r\n      Token.createInitMintInstruction(\r\n        TOKEN_PROGRAM_ID,\r\n        mint.publicKey,\r\n        0,\r\n        payer,\r\n        payer\r\n      ),\r\n      createAssociatedTokenAccountInstruction(\r\n        token,\r\n        payer,\r\n        payer,\r\n        mint.publicKey\r\n      ),\r\n      Token.createMintToInstruction(\r\n        TOKEN_PROGRAM_ID,\r\n        mint.publicKey,\r\n        token,\r\n        payer,\r\n        [],\r\n        1\r\n      ),\r\n    ],\r\n  });\r\n}\r\n\r\nexport const shortenAddress = (address: string, chars = 4): string => {\r\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`;\r\n};\r\n\r\nconst sleep = (ms: number): Promise<void> => {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Countdown from \"react-countdown\";\r\nimport { Button, CircularProgress, Snackbar } from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nimport * as anchor from \"@project-serum/anchor\";\r\n\r\nimport { LAMPORTS_PER_SOL } from \"@solana/web3.js\";\r\n\r\nimport { useWallet } from \"@solana/wallet-adapter-react\";\r\nimport { WalletDialogButton } from \"@solana/wallet-adapter-material-ui\";\r\n\r\nimport {\r\n  CandyMachine,\r\n  awaitTransactionSignatureConfirmation,\r\n  getCandyMachineState,\r\n  mintOneToken,\r\n  shortenAddress,\r\n} from \"./candy-machine\";\r\n\r\nconst ConnectButton = styled(WalletDialogButton)``;\r\n\r\nconst CounterText = styled.span``; // add your styles here\r\n\r\nconst MintContainer = styled.div``; // add your styles here\r\n\r\nconst MintButton = styled(Button)``; // add your styles here\r\n\r\nexport interface HomeProps {\r\n  candyMachineId: anchor.web3.PublicKey;\r\n  config: anchor.web3.PublicKey;\r\n  connection: anchor.web3.Connection;\r\n  startDate: number;\r\n  treasury: anchor.web3.PublicKey;\r\n  txTimeout: number;\r\n}\r\n\r\nconst Home = (props: HomeProps) => {\r\n  const [balance, setBalance] = useState<number>();\r\n  const [isActive, setIsActive] = useState(false); // true when countdown completes\r\n  const [isSoldOut, setIsSoldOut] = useState(false); // true when items remaining is zero\r\n  const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\r\n\r\n  const [alertState, setAlertState] = useState<AlertState>({\r\n    open: false,\r\n    message: \"\",\r\n    severity: undefined,\r\n  });\r\n\r\n  const [startDate, setStartDate] = useState(new Date(props.startDate));\r\n\r\n  const wallet = useWallet();\r\n  const [candyMachine, setCandyMachine] = useState<CandyMachine>();\r\n\r\n  const onMint = async () => {\r\n    try {\r\n      setIsMinting(true);\r\n      if (wallet.connected && candyMachine?.program && wallet.publicKey) {\r\n        const mintTxId = await mintOneToken(\r\n          candyMachine,\r\n          props.config,\r\n          wallet.publicKey,\r\n          props.treasury\r\n        );\r\n\r\n        const status = await awaitTransactionSignatureConfirmation(\r\n          mintTxId,\r\n          props.txTimeout,\r\n          props.connection,\r\n          \"singleGossip\",\r\n          false\r\n        );\r\n\r\n        if (!status?.err) {\r\n          setAlertState({\r\n            open: true,\r\n            message: \"Congratulations! Mint succeeded!\",\r\n            severity: \"success\",\r\n          });\r\n        } else {\r\n          setAlertState({\r\n            open: true,\r\n            message: \"Mint failed! Please try again!\",\r\n            severity: \"error\",\r\n          });\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      // TODO: blech:\r\n      let message = error.msg || \"Minting failed! Please try again!\";\r\n      if (!error.msg) {\r\n        if (error.message.indexOf(\"0x138\")) {\r\n        } else if (error.message.indexOf(\"0x137\")) {\r\n          message = `SOLD OUT!`;\r\n        } else if (error.message.indexOf(\"0x135\")) {\r\n          message = `Insufficient funds to mint. Please fund your wallet.`;\r\n        }\r\n      } else {\r\n        if (error.code === 311) {\r\n          message = `SOLD OUT!`;\r\n          setIsSoldOut(true);\r\n        } else if (error.code === 312) {\r\n          message = `Minting period hasn't started yet.`;\r\n        }\r\n      }\r\n\r\n      setAlertState({\r\n        open: true,\r\n        message,\r\n        severity: \"error\",\r\n      });\r\n    } finally {\r\n      if (wallet?.publicKey) {\r\n        const balance = await props.connection.getBalance(wallet?.publicKey);\r\n        setBalance(balance / LAMPORTS_PER_SOL);\r\n      }\r\n      setIsMinting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (wallet?.publicKey) {\r\n        const balance = await props.connection.getBalance(wallet.publicKey);\r\n        setBalance(balance / LAMPORTS_PER_SOL);\r\n      }\r\n    })();\r\n  }, [wallet, props.connection]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (\r\n        !wallet ||\r\n        !wallet.publicKey ||\r\n        !wallet.signAllTransactions ||\r\n        !wallet.signTransaction\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      const anchorWallet = {\r\n        publicKey: wallet.publicKey,\r\n        signAllTransactions: wallet.signAllTransactions,\r\n        signTransaction: wallet.signTransaction,\r\n      } as anchor.Wallet;\r\n\r\n      const { candyMachine, goLiveDate, itemsRemaining } =\r\n        await getCandyMachineState(\r\n          anchorWallet,\r\n          props.candyMachineId,\r\n          props.connection\r\n        );\r\n\r\n      setIsSoldOut(itemsRemaining === 0);\r\n      setStartDate(goLiveDate);\r\n      setCandyMachine(candyMachine);\r\n    })();\r\n  }, [wallet, props.candyMachineId, props.connection]);\r\n\r\n  return (\r\n    <main>\r\n      {wallet.connected && (\r\n        <p>Address: {shortenAddress(wallet.publicKey?.toBase58() || \"\")}</p>\r\n      )}\r\n\r\n      {wallet.connected && (\r\n        <p>Balance: {(balance || 0).toLocaleString()} SOL</p>\r\n      )}\r\n\r\n      <MintContainer>\r\n        {!wallet.connected ? (\r\n          <ConnectButton>Connect Wallet</ConnectButton>\r\n        ) : (\r\n          <MintButton\r\n            disabled={isSoldOut || isMinting || !isActive}\r\n            onClick={onMint}\r\n            variant=\"contained\"\r\n          >\r\n            {isSoldOut ? (\r\n              \"SOLD OUT\"\r\n            ) : isActive ? (\r\n              isMinting ? (\r\n                <CircularProgress />\r\n              ) : (\r\n                \"MINT\"\r\n              )\r\n            ) : (\r\n              <Countdown\r\n                date={startDate}\r\n                onMount={({ completed }) => completed && setIsActive(true)}\r\n                onComplete={() => setIsActive(true)}\r\n                renderer={renderCounter}\r\n              />\r\n            )}\r\n          </MintButton>\r\n        )}\r\n      </MintContainer>\r\n\r\n      <Snackbar\r\n        open={alertState.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setAlertState({ ...alertState, open: false })}\r\n      >\r\n        <Alert\r\n          onClose={() => setAlertState({ ...alertState, open: false })}\r\n          severity={alertState.severity}\r\n        >\r\n          {alertState.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </main>\r\n  );\r\n};\r\n\r\ninterface AlertState {\r\n  open: boolean;\r\n  message: string;\r\n  severity: \"success\" | \"info\" | \"warning\" | \"error\" | undefined;\r\n}\r\n\r\nconst renderCounter = ({ days, hours, minutes, seconds, completed }: any) => {\r\n  return (\r\n    <CounterText>\r\n      {hours} hours, {minutes} minutes, {seconds} seconds\r\n    </CounterText>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import \"./App.css\";\r\nimport { useMemo } from \"react\";\r\n\r\nimport Home from \"./Home\";\r\n\r\nimport * as anchor from \"@project-serum/anchor\";\r\nimport { clusterApiUrl } from \"@solana/web3.js\";\r\nimport { WalletAdapterNetwork } from \"@solana/wallet-adapter-base\";\r\nimport {\r\n  getPhantomWallet,\r\n  getSolflareWallet,\r\n  getSolletWallet,\r\n} from \"@solana/wallet-adapter-wallets\";\r\n\r\nimport {\r\n  ConnectionProvider,\r\n  WalletProvider,\r\n} from \"@solana/wallet-adapter-react\";\r\n\r\nimport { WalletDialogProvider } from \"@solana/wallet-adapter-material-ui\";\r\n\r\nconst treasury = new anchor.web3.PublicKey(\r\n  process.env.REACT_APP_TREASURY_ADDRESS!\r\n);\r\n\r\nconst config = new anchor.web3.PublicKey(\r\n  process.env.REACT_APP_CANDY_MACHINE_CONFIG!\r\n);\r\n\r\nconst candyMachineId = new anchor.web3.PublicKey(\r\n  process.env.REACT_APP_CANDY_MACHINE_ID!\r\n);\r\n\r\nconst network = process.env.REACT_APP_SOLANA_NETWORK as WalletAdapterNetwork;\r\n\r\nconst rpcHost = process.env.REACT_APP_SOLANA_RPC_HOST!;\r\nconst connection = new anchor.web3.Connection(rpcHost);\r\n\r\nconst startDateSeed = parseInt(process.env.REACT_APP_CANDY_START_DATE!, 10);\r\n\r\nconst txTimeout = 30000; // milliseconds (confirm this works for your project)\r\n\r\nconst App = () => {\r\n  const endpoint = useMemo(() => clusterApiUrl(network), []);\r\n\r\n  const wallets = useMemo(\r\n    () => [getPhantomWallet(), getSolflareWallet(), getSolletWallet()],\r\n    []\r\n  );\r\n\r\n  return (\r\n    <ConnectionProvider endpoint={endpoint}>\r\n      <WalletProvider wallets={wallets} autoConnect>\r\n        <WalletDialogProvider>\r\n          <Home\r\n            candyMachineId={candyMachineId}\r\n            config={config}\r\n            connection={connection}\r\n            startDate={startDateSeed}\r\n            treasury={treasury}\r\n            txTimeout={txTimeout}\r\n          />\r\n        </WalletDialogProvider>\r\n      </WalletProvider>\r\n    </ConnectionProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"]}}